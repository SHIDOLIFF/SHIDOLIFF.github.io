<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>LINE Flex Share</title>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>
<script>
  async function main() {
    await liff.init({ liffId: "2007005525-32Q1dqE5" });

    if (liff.isLoggedIn()) {
      shareFlex();
    } else {
      liff.login();
    }
  }

  async function shareFlex() {
    const flexMsg = {
      type: "flex",
      altText: "‡∏°‡∏≠‡∏á‡∏Ñ‡∏ß‡∏¢‡πÑ‡∏£ (¬¥ÔΩ•œâÔΩ•`)",
      contents: {
        type: "bubble",
        body: {
          type: "box",
          layout: "vertical",
          contents: [
            {
              type: "image",
              url: "https://images.app.goo.gl/DiWs9",
              size: "full",
              aspectMode: "cover",
              aspectRatio: "2:3",
              gravity: "top"
            },
            {
              type: "box",
              layout: "vertical",
              contents: [
                {
                  type: "box",
                  layout: "vertical",
                  contents: [
                    {
                      type: "text",
                      text: "‡∏´‡∏µ‡πÑ‡∏á (¬¥ÔΩ•œâÔΩ•`)",
                      size: "xl",
                      color: "#ffffff",
                      weight: "bold"
                    }
                  ]
                },
                {
                  type: "box",
                  layout: "baseline",
                  contents: [],
                  spacing: "lg"
                },
                {
                  type: "box",
                  layout: "vertical",
                  contents: [
                    {
                      type: "button",
                      action: {
                        type: "uri",
                        label: "‡∏™‡πà‡∏á‡∏ï‡πà‡∏≠",
                        uri: "https://liff.line.me/2007005525-32Q1dqE5"
                      },
                      color: "#00FFFF",
                      style: "primary"
                    }
                  ],
                  borderWidth: "1px",
                  cornerRadius: "4px",
                  spacing: "sm",
                  borderColor: "#3300FF",
                  margin: "xxl",
                  height: "40px",
                  backgroundColor: "#3300FF"
                }
              ],
              position: "absolute",
              offsetBottom: "0px",
              offsetStart: "0px",
              offsetEnd: "0px",
              backgroundColor: "#03303Acc",
              paddingAll: "20px",
              paddingTop: "18px"
            },
            {
              type: "box",
              layout: "vertical",
              contents: [
                {
                  type: "text",
                  text: "üî•‡∏´‡∏µ‡∏≠‡∏∞‡∏´‡∏µüî•",
                  color: "#ffffff",
                  align: "center",
                  size: "xs",
                  offsetTop: "3px"
                }
              ],
              position: "absolute",
              cornerRadius: "20px",
              offsetTop: "18px",
              backgroundColor: "#ff334b",
              offsetStart: "18px",
              height: "25px",
              width: "53px"
            }
          ],
          paddingAll: "0px"
        }
      }
    };

    try {
      await liff.shareTargetPicker([flexMsg]);
      liff.closeWindow();
    } catch (err) {
      alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: " + err);
    }
  }

  main();
</script>
</body>
</html>
